<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Secure Interface for Video Interactive Creative (SIVIC)</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: medium;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li li { font-size:   85%;    }

	.toc > li             { margin: 1.5rem 0;    }
	.toc > li li          { margin: 0.3rem 0;    }
	.toc > li li li       { margin-left: 2rem;   }

	/* Section numbers in a column of their own */
	.toc .secno {
		float: left;
		width: 4rem;
		white-space: nowrap;
	}
	.toc > li li li li .secno {
		font-size: 85%;
	}
	.toc > li li li li li .secno {
		font-size: 100%;
	}

	:not(li) > .toc              { margin-left:  5rem; }
	.toc .secno                  { margin-left: -5rem; }
	.toc > li li li .secno       { margin-left: -7rem; }
	.toc > li li li li .secno    { margin-left: -9rem; }
	.toc > li li li li li .secno { margin-left: -11rem; }

	/* Tighten up indentation in narrow ToCs */
	@media (max-width: 30em) {
		:not(li) > .toc              { margin-left:  4rem; }
		.toc .secno                  { margin-left: -4rem; }
		.toc > li li li              { margin-left:  1rem; }
		.toc > li li li .secno       { margin-left: -5rem; }
		.toc > li li li li .secno    { margin-left: -6rem; }
		.toc > li li li li li .secno { margin-left: -7rem; }
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) :not(li) > .toc              { margin-left:  4rem; }
		body:not(.toc-inline) .toc .secno                  { margin-left: -4rem; }
		body:not(.toc-inline) .toc > li li li              { margin-left:  1rem; }
		body:not(.toc-inline) .toc > li li li .secno       { margin-left: -5rem; }
		body:not(.toc-inline) .toc > li li li li .secno    { margin-left: -6rem; }
		body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	body.toc-sidebar #toc :not(li) > .toc              { margin-left:  4rem; }
	body.toc-sidebar #toc .toc .secno                  { margin-left: -4rem; }
	body.toc-sidebar #toc .toc > li li li              { margin-left:  1rem; }
	body.toc-sidebar #toc .toc > li li li .secno       { margin-left: -5rem; }
	body.toc-sidebar #toc .toc > li li li li .secno    { margin-left: -6rem; }
	body.toc-sidebar #toc .toc > li li li li li .secno { margin-left: -7rem; }

	.toc li {
		clear: both;
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version 374411ba509d23f8a91b3530bae1f342eb291098" name="generator">
  <link href="https://github.com/InteractiveAdvertisingBureau/SIVIC" rel="canonical">
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-syntax-highlighting */
pre.idl.highlight { color: #708090; }
.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #222222 } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">Secure Interface for Video Interactive Creative (SIVIC)</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Living Standard, <time class="dt-updated" datetime="2018-05-05">5 May 2018</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://github.com/InteractiveAdvertisingBureau/SIVIC">https://github.com/InteractiveAdvertisingBureau/SIVIC</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/InteractiveAdvertisingBureau/SIVIC/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:pieter.mees@zentrick.com">Pieter Mees</a> (<span class="p-org org">Zentrick</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://creativecommons.org/publicdomain/zero/1.0/" rel="license"><img alt="CC0" src="https://licensebuttons.net/p/zero/1.0/80x15.png"></a> To the extent possible under law, the editors have waived all copyright
and related or neighboring rights to this work.
In addition, as of 5 May 2018,
the editors have made this specification available under the <a href="http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0" rel="license">Open Web Foundation Agreement Version 1.0</a>,
which is available at http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0.
Parts of this work may be from another specification document.  If so, those parts are instead covered by the license of that specification document. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Establishes a common communication protocol between video players and executable ad units, providing rich ad experiences for viewers.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#exec-summary"><span class="secno">1</span> <span class="content">Executive Summary</span></a>
    <li><a href="#audience"><span class="secno">2</span> <span class="content">Intended Audience</span></a>
    <li>
     <a href="#intro"><span class="secno">3</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#enabling-advanced-video-advertising"><span class="secno">3.1</span> <span class="content">Enabling Advanced Video Advertising</span></a>
      <li><a href="#video-ad-flow"><span class="secno">3.2</span> <span class="content">Video Ad Flow</span></a>
      <li><a href="#cross-platform"><span class="secno">3.3</span> <span class="content">Cross-Platform Support</span></a>
      <li><a href="#scope"><span class="secno">3.4</span> <span class="content">Scope and Limitation</span></a>
      <li><a href="#market-needs"><span class="secno">3.5</span> <span class="content">Market Needs</span></a>
      <li><a href="#use-cases"><span class="secno">3.6</span> <span class="content">Primary Use Cases</span></a>
      <li>
       <a href="#player-reqs"><span class="secno">3.7</span> <span class="content">Video Player Requirements</span></a>
       <ol class="toc">
        <li><a href="#displaying-creative"><span class="secno">3.7.1</span> <span class="content">Displaying Ad Unit Creative</span></a>
       </ol>
      <li><a href="#ad-reqs"><span class="secno">3.8</span> <span class="content">Ad Unit Requirements</span></a>
     </ol>
    <li>
     <a href="#api"><span class="secno">4</span> <span class="content">API Reference</span></a>
     <ol class="toc">
      <li><a href="#api-vast"><span class="secno">4.1</span> <span class="content">Referencing a SIVIC creative from VAST</span></a>
      <li><a href="#api-ad-loading"><span class="secno">4.2</span> <span class="content">How to Handle Ad Loading</span></a>
      <li>
       <a href="#api-ad-playback"><span class="secno">4.3</span> <span class="content">How to Handle Ad Playback</span></a>
       <ol class="toc">
        <li><a href="#api-ad-pause"><span class="secno">4.3.1</span> <span class="content">Ad Pause</span></a>
        <li><a href="#api-quartiles"><span class="secno">4.3.2</span> <span class="content">Ad Quartiles and Playback Events</span></a>
        <li><a href="#api-resizing"><span class="secno">4.3.3</span> <span class="content">Ad Resizing and Fullscreen</span></a>
        <li><a href="#api-volume"><span class="secno">4.3.4</span> <span class="content">Ad Volume</span></a>
       </ol>
      <li>
       <a href="#api-end"><span class="secno">4.4</span> <span class="content">How to Handle Ad End and Unload</span></a>
       <ol class="toc">
        <li><a href="#api-skip"><span class="secno">4.4.1</span> <span class="content">Ad Skips</span></a>
        <li><a href="#api-end-before-complete"><span class="secno">4.4.2</span> <span class="content">Ad Ends Before Video Completion</span></a>
        <li><a href="#api-extend"><span class="secno">4.4.3</span> <span class="content">Ad Extends Beyond Video Completion</span></a>
        <li><a href="#api-complete"><span class="secno">4.4.4</span> <span class="content">Ad Completes at Video Completion</span></a>
        <li><a href="#api-error"><span class="secno">4.4.5</span> <span class="content">Ad Errors Out</span></a>
        <li><a href="#api-notes"><span class="secno">4.4.6</span> <span class="content">Additional Notes</span></a>
       </ol>
     </ol>
    <li>
     <a href="#protocol"><span class="secno">5</span> <span class="content">Protocol Details</span></a>
     <ol class="toc">
      <li>
       <a href="#objects"><span class="secno">5.1</span> <span class="content">Objects</span></a>
       <ol class="toc">
        <li><a href="#entry-point"><span class="secno">5.1.1</span> <span class="content">Entry Point</span></a>
        <li><a href="#object-ad"><span class="secno">5.1.2</span> <span class="content">Ad Interface</span></a>
        <li><a href="#object-video-proxy"><span class="secno">5.1.3</span> <span class="content">VideoProxy Interface</span></a>
        <li><a href="#object-creative-data"><span class="secno">5.1.4</span> <span class="content">Creative Data</span></a>
        <li><a href="#object-env-data"><span class="secno">5.1.5</span> <span class="content">Environment Data</span></a>
       </ol>
      <li><a href="#errors"><span class="secno">5.2</span> <span class="content">Error Handling and Timeouts</span></a>
      <li><a href="#ad-completion"><span class="secno">5.3</span> <span class="content">Ad Completion</span></a>
     </ol>
    <li><a href="#security"><span class="secno">6</span> <span class="content">Security</span></a>
    <li><a href="#examples"><span class="secno">7</span> <span class="content">Examples</span></a>
    <li><a href="#lang-specific"><span class="secno">8</span> <span class="content">Language-Specific Implementation Details</span></a>
    <li><a href="#terminology"><span class="secno">9</span> <span class="content">Terminology</span></a>
    <li><a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="exec-summary"><span class="secno">1. </span><span class="content">Executive Summary</span><a class="self-link" href="#exec-summary"></a></h2>
   <p>The SIVIC standard is intended to address the original mandate of the VPAID spec: to establish a common communication protocol between video players and ad units that allows a single “executable ad” (one that requires software logic to be executed as part of ad playback) to be displayed as an enhancement of standard video advertisement, in any compliant video player, with the result that advertisers using VPAID ads can provide rich ad experiences for viewers and collect ad playback and interaction details that are just as rich as the ad experience.</p>
   <p>The SIVIC revision is needed specifically to address the following concerns with VPAID:</p>
   <ul>
    <li data-md="">
     <p><strong>Publisher control:</strong> compatibility with running the interactive code in parallel to the video rather than having the code manage the video delivery, incorporating the following:</p>
     <ul>
      <li data-md="">
       <p>VAST 4 style delivery (interactive code delivered separately from the media file)</p>
      <li data-md="">
       <p>Compatibility with server-side ad insertion, including live streams</p>
      <li data-md="">
       <p>Compatibility with the need to pre-cache at least the video asset on mobile</p>
     </ul>
    <li data-md="">
     <p><strong>Security:</strong> compatibility with running in a “protected”/safe iframe and/or being passed a proxy video object by the publisher</p>
    <li data-md="">
     <p><strong>Clarity of purpose:</strong> Movement of verification and viewability codebase to a separate codebase, either client-resident in the case of the OM SDK or a separate call to a verification script in VAST 4.1</p>
    <li data-md="">
     <p><strong>Clarity of purpose, security, performance:</strong> Unintended usage of VPAID that is disruptive to the user experience and/or publisher operations (specifically client-side arbitration, but other scenarios may exist)</p>
   </ul>
   <p>By specifying a separation of the video asset from the codebase, VAST 4.0 + has already done some of the work required to resolve the issues above. The SIVIC spec is intended to close the gaps for the purpose of enabling and reporting on rich (interactive and dynamic) video ad experiences. Viewability and verification will now be handled in separate standard efforts.</p>
   <p>Additionally, the new standard should support all reasonably well-adopted ad formats currently available using VPAID.</p>
   <h2 class="heading settled" data-level="2" id="audience"><span class="secno">2. </span><span class="content">Intended Audience</span><a class="self-link" href="#audience"></a></h2>
   <p>Anyone involved in digital video advertising can benefit from being familiar with this specification, however implementation details are targeted toward the developers of executable video ads and of video players intended to support interactive and/or dynamic video ads enabled by the spec. Specifically, video software engineers and video product managers should use this document as a guide when implementing technology designed to support SIVIC.</p>
   <h2 class="heading settled" data-level="3" id="intro"><span class="secno">3. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="enabling-advanced-video-advertising"><span class="secno">3.1. </span><span class="content">Enabling Advanced Video Advertising</span><a class="self-link" href="#enabling-advanced-video-advertising"></a></h3>
   <p>Standard video ads are limited in what they can do and what they can track. They play back linearly from start to finish and support only the tracking provided to the publisher in advance via VAST.</p>
   <p>In cases where the player environment is capable of supporting execution of code as part of the video playback experience, that code can be used to present the viewer with an array of interactive and/or dynamic features, commonly including additional video or image galleries, more detailed product information, store or dealer locators, and audience-specific personalized elements.</p>
   <p>The SIVIC specification is intended to standardize the communication needed between the ad player and the ad creative itself. SIVIC is similar to the VPAID spec that preceded it in this regard.</p>
   <p><img alt="Diagram showing interaction between video player, VAST and VPAID" src="images/vast-vpaid-player.png" width="100%"></p>
   <p class="issue" id="issue-f49d752f"><a class="self-link" href="#issue-f49d752f"></a> the diagram above will need to be revised to account for SSAI and non-SSAI scenarios</p>
   <h3 class="heading settled" data-level="3.2" id="video-ad-flow"><span class="secno">3.2. </span><span class="content">Video Ad Flow</span><a class="self-link" href="#video-ad-flow"></a></h3>
   <p>The process of serving an ad is also more or less unchanged from the earlier VPAID specification, with two main exceptions.</p>
   <ul>
    <li data-md="">
     <p>Access to the video is no longer mediated by the code layer described in this spec, as was the case for VPAID. Pre-caching for mobile and SSAI require direct access to the video and this is reflected in the VAST 4.1 spec, which now separates the video media file from the <code>InteractiveCreativeFile</code> asset. Removing this parent-child relationship between the code and the video also no longer allows the code to act as a gatekeeper for the video, which led to the exploitation of VPAID for client-side arbitration.</p>
    <li data-md="">
     <p>SIVIC also has to account for the SSAI use case - in this case, the video ad is part of an ongoing video stream delivered by the publisher and the SIVIC code is downloaded and executed on a parallel path to the stream.</p>
   </ul>
   <p><img alt="Diagram showing interaction between video player and VPAID" src="images/vpaid-player.png" width="100%"></p>
   <p class="issue" id="issue-f49d752f①"><a class="self-link" href="#issue-f49d752f①"></a> the diagram above will need to be revised to account for SSAI and non-SSAI scenarios</p>
   <h3 class="heading settled" data-level="3.3" id="cross-platform"><span class="secno">3.3. </span><span class="content">Cross-Platform Support</span><a class="self-link" href="#cross-platform"></a></h3>
   <p>As was the case with VPAID, and perhaps more so given the additional abstraction provided by including a <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy">VideoProxy</a></code> element, SIVIC is designed to be a cross-platform standard, and should be the preferred standard for enabling advanced video creative on any device capable of supporting the execution of ad-resident code on the device, including desktop, mobile and OTT.</p>
   <h3 class="heading settled" data-level="3.4" id="scope"><span class="secno">3.4. </span><span class="content">Scope and Limitation</span><a class="self-link" href="#scope"></a></h3>
   <p>The most important change in scope between VPAID and the SIVIC specification is that SIVIC is now only intended to be used to support advanced video creative. Verification and viewability are now handled by the Open Measurement spec, and part of the rationale for revising SIVIC is clarifying and narrowing the usage of code by ad vendors to support the publishers’ need for security and performance. Any use of the SIVIC spec to support something other than interactive or dynamic content within the ad unit should be by default considered as counter to the intentions of the spec.</p>
   <p>Another out-of-scope consideration for this spec is that there may be cases where the device is not capable or not willing to execute third-party code alongside the video. In these cases an alternate “thin client” solution may need to be provided using VAST or another approach, but it will not be addressed here. An example of advanced creative supported by VAST include end cards executed using VAST companion assets, as well as proprietary ad units developed by several mobile SDKs to support advanced video executions in a manner that is easily pre-cached.</p>
   <h3 class="heading settled" data-level="3.5" id="market-needs"><span class="secno">3.5. </span><span class="content">Market Needs</span><a class="self-link" href="#market-needs"></a></h3>
   <p>The VPAID spec that preceded the SIVIC spec was outlined to follow general principles, some of which are generally accepted good design principles (simplicity, portability, consistency) and others of which reinforce at this point relatively well-known aspects of the relationship between the player and the ad (the player is in control, and implements support for the full spec to support a variety of ad units, whereas a given ad unit implements only the aspects of the spec that it needs).</p>
   <p>In the hopes of going a bit deeper than the abstract principles underlying the spec in this new revision, instead we reflect below the market needs driving the replacement of VPAID with SIVIC.</p>
   <ul>
    <li data-md="">
     <p>Publisher needs:</p>
     <ul>
      <li data-md="">
       <p>Security</p>
      <li data-md="">
       <p>Performance</p>
      <li data-md="">
       <p>Low latency</p>
      <li data-md="">
       <p>Protection of publisher page creative elements from ad code</p>
      <li data-md="">
       <p>The minimization of errors and playback issues</p>
     </ul>
    <li data-md="">
     <p>Agency/advertiser/ad platform needs:</p>
     <ul>
      <li data-md="">
       <p>Maximum creative control, without interfering with publisher needs above</p>
      <li data-md="">
       <p>Access to player-managed capabilities like fullscreen</p>
      <li data-md="">
       <p>Ability to pass data into the creative</p>
      <li data-md="">
       <p>A defined interface for communicating with elements outside the player and ad</p>
      <li data-md="">
       <p>Ability to understand playback environment/device capabilities that may be required for creative execution</p>
      <li data-md="">
       <p>The ability to correlate the measurement of interactive events with other measurement now happening outside of VPAID (eg viewability and verification)</p>
     </ul>
    <li data-md="">
     <p>Needs of both:</p>
     <ul>
      <li data-md="">
       <p>Document clarity - we should be careful to minimize any confusion about how to implement a player or recognized ad format</p>
      <li data-md="">
       <p>Position relative to other standards (VAST, OMID, etc) in any cases of overlap or potential confusion</p>
     </ul>
   </ul>
   <h3 class="heading settled" data-level="3.6" id="use-cases"><span class="secno">3.6. </span><span class="content">Primary Use Cases</span><a class="self-link" href="#use-cases"></a></h3>
   <p>The standards revisions in this document intend to support scalable, performant interactive video execution in the following cases</p>
   <ul>
    <li data-md="">
     <p>Server-side ad insertion, with interactive creative operating in parallel to a publisher-controlled video stream</p>
    <li data-md="">
     <p>Mobile and other bandwidth-constrained scenarios that require pre-loading of assets to enable instant playback</p>
    <li data-md="">
     <p>Desktop and other playback scenarios currently executed via VPAID, with a reduction in errors, non-standard executions, and performance and security issues. The significant change between VPAID and SIVIC for these scenarios is that video playback control now resides with the publisher player in all cases.</p>
    <li data-md="">
     <p>In service of all of the above, it is also understood that this version of the SIVIC spec should be interoperable with VAST 4.1.</p>
    <li data-md="">
     <p>In all cases the understanding is that the playback environment (device and platform) support and permit the execution of code as required by SIVIC.</p>
   </ul>
   <h3 class="heading settled" data-level="3.7" id="player-reqs"><span class="secno">3.7. </span><span class="content">Video Player Requirements</span><a class="self-link" href="#player-reqs"></a></h3>
   <p>The video player must implement ad loading, check for presence of SIVIC, manage video playback, and if present, implement the correct SIVIC version. Recovery mechanisms should also be in place should the ad unit fail to follow specified protocols correctly. For example, if the video player does not receive the AdStopped event from an ad unit after sending a call to <code class="idl"><a data-link-type="idl" href="#dom-ad-stopad" id="ref-for-dom-ad-stopad">stopAd</a></code>, the video player should be prepared to react appropriately.</p>
   <p><a href="#ad-completion">§5.3 Ad Completion</a> provides details on error handling and recommended recovery action for specific timeout situations.</p>
   <h4 class="heading settled" data-level="3.7.1" id="displaying-creative"><span class="secno">3.7.1. </span><span class="content">Displaying Ad Unit Creative</span><a class="self-link" href="#displaying-creative"></a></h4>
   <p>The video advertising industry expects that an impression has indicated that an ad was viewed by an end user. Therefore, the video player should ensure that no other visual elements from the video player, the webpage, or other ads, display over a video ad that is currently in progress.</p>
   <p>Also, since video ad creative are expected to adhere to industry guidelines that include a “Close X” button, the video player should not include its own close button for SIVIC ad units.</p>
   <h3 class="heading settled" data-level="3.8" id="ad-reqs"><span class="secno">3.8. </span><span class="content">Ad Unit Requirements</span><a class="self-link" href="#ad-reqs"></a></h3>
   <p>If the ad unit implements SIVIC, it must indicate the correct version. The ad unit must implement all methods and properties listed, but can either decline from responding or returning a value that indicates that the method or property is not supported.</p>
   <p>The ad unit should never allow uncaught exceptions to be thrown during calls into SIVIC from the video player. See Implementation sections for more specific requirements.</p>
   <h2 class="heading settled" data-level="4" id="api"><span class="secno">4. </span><span class="content">API Reference</span><a class="self-link" href="#api"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="api-vast"><span class="secno">4.1. </span><span class="content">Referencing a SIVIC creative from VAST</span><a class="self-link" href="#api-vast"></a></h3>
   <p>When a SIVIC creative is referenced from a VAST document, the value for the apiFramework attribute in the <code>InteractiveCreativeFile</code> element must be <code>SIVIC</code> (all caps). This attribute identifies the SIVIC API for the creative. Version information should be handled by the <code class="idl"><a data-link-type="idl" href="#dom-ad-handshakeversion" id="ref-for-dom-ad-handshakeversion">handshakeVersion()</a></code> method (rather than identified in the VAST file).</p>
   <p>Another attribute of the <code>InteractiveCreativeFile</code> is <code>variableDuration</code> which identifies whether the ad always drops when the duration is reached, or if it can potentially extend the duration by pausing the underlying video or delaying the <code>adStopped</code> event after <code>adVideoComplete</code>.</p>
   <h3 class="heading settled" data-level="4.2" id="api-ad-loading"><span class="secno">4.2. </span><span class="content">How to Handle Ad Loading</span><a class="self-link" href="#api-ad-loading"></a></h3>
   <p>The player must follow this workflow for loading an ad.</p>
   <ol>
    <li data-md="">
     <p>Player creates an element for the SIVIC creative to live in. For HTML this must be an iframe. The iframe must overlay the video player. The ad slot must be a div that is inside the iframe. The ad unit should always expect to be rendered in a secure iframe without access to any elements outside the iframe.</p>
    <li data-md="">
     <p>Player loads the JavaScript for the SIVIC creative in the iframe. Listen for the script’s <code>onLoad</code> event and call <code class="idl"><a data-link-type="idl" href="#dom-window-getsivicad" id="ref-for-dom-window-getsivicad">getSIVICAd</a></code> on the iframe window’s global scope to get a reference to the ad.</p>
    <li data-md="">
     <p>Player calls <code class="idl"><a data-link-type="idl" href="#dom-ad-handshakeversion" id="ref-for-dom-ad-handshakeversion①">handshakeVersion()</a></code> to get the SIVIC API version of the ad (for compatibility) while passing in the highest version it supports itself.</p>
    <li data-md="">
     <p>Players calls <code class="idl"><a data-link-type="idl" href="#dom-ad-initad" id="ref-for-dom-ad-initad">initAd()</a></code> with parameters <code class="idl"><a data-link-type="idl" href="#dom-ad-initad-creativedata-envdata-creativedata" id="ref-for-dom-ad-initad-creativedata-envdata-creativedata">creativeData</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-ad-initad-creativedata-envdata-envdata" id="ref-for-dom-ad-initad-creativedata-envdata-envdata">envData</a></code>. The <code class="idl"><a data-link-type="idl" href="#dictdef-environmentdata" id="ref-for-dictdef-environmentdata">EnvironmentData</a></code> object will contain the <code class="idl"><a data-link-type="idl" href="#dom-environmentdata-slot" id="ref-for-dom-environmentdata-slot">slot</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-environmentdata-videoproxy" id="ref-for-dom-environmentdata-videoproxy">videoProxy</a></code> for the ad to render creative elements and control video playback respectively. The ad will load all required assets and elements into the ad slot. The ad will call <code>AdLoaded</code> when done loading.</p>
    <li data-md="">
     <p>Player waits for video to start buffering, or for point in stream of video start. Player calls <code class="idl"><a data-link-type="idl" href="#dom-ad-startad" id="ref-for-dom-ad-startad">startAd</a></code> and wait for <code>AdStarted</code>. If <code>AdStarted</code> is not immediately fired, the player should assume that there was an error (see <a href="#errors">§5.2 Error Handling and Timeouts</a>).</p>
   </ol>
   <p class="issue" id="issue-db0e834b"><a class="self-link" href="#issue-db0e834b"></a> need to define the definitions of the <code class="idl"><a data-link-type="idl" href="#enumdef-viewmode" id="ref-for-enumdef-viewmode">ViewMode</a></code> enum values</p>
   <p>When calling <code class="idl"><a data-link-type="idl" href="#dom-ad-initad" id="ref-for-dom-ad-initad①">initAd()</a></code>, the player shall provide the following parameters:</p>
   <ul>
    <li data-md="">
     <p><code class="idl"><a data-link-type="idl" href="#dom-ad-initad-creativedata-envdata-creativedata" id="ref-for-dom-ad-initad-creativedata-envdata-creativedata①">creativeData</a></code>: object used for additional initialization data. <code class="idl"><a data-link-type="idl" href="#dictdef-creativedata" id="ref-for-dictdef-creativedata">CreativeData</a></code> is used to pass information associated with the creative (sometimes taken from VAST). In a VAST context, the ad unit should pass the value for either the <code>Linear</code> or <code>Nonlinear</code> <code>AdParameter</code> element specified in the VAST document.</p>
     <ul>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-creativedata-adparameters" id="ref-for-dom-creativedata-adparameters">adParameters</a></code>: ad parameters from VAST, or an empty string if unknown</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-creativedata-adid" id="ref-for-dom-creativedata-adid">adId</a></code>: the ID of the ad from VAST, or an empty string if unknown</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-creativedata-creativeid" id="ref-for-dom-creativedata-creativeid">creativeId</a></code>: the ID from the creative or an empty string if unknown</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-creativedata-adservingid" id="ref-for-dom-creativedata-adservingid">adServingId</a></code>: Quasi-unique id generated by ad server and passed through all 1st and 3rd party reporting to facilitate the marriage of impression-level data across multiple reporting systems. In VAST 4.1 and later this id is provided in the <code>AdServingID</code> node.</p>
     </ul>
    <li data-md="">
     <p><code class="idl"><a data-link-type="idl" href="#dom-ad-initad-creativedata-envdata-envdata" id="ref-for-dom-ad-initad-creativedata-envdata-envdata①">envData</a></code>: object used for passing implementation-specific runtime variables. <code class="idl"><a data-link-type="idl" href="#dictdef-environmentdata" id="ref-for-dictdef-environmentdata①">EnvironmentData</a></code> is used to pass information associated with the publisher playback environment. The object should have the following fields.</p>
     <ul>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-slot" id="ref-for-dom-environmentdata-slot①">slot</a></code>: the container where the ad renders. For HTML5, this should be a div.</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-videoproxy" id="ref-for-dom-environmentdata-videoproxy①">videoProxy</a></code>: an implementation of the <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy①">VideoProxy</a></code> interface given in this spec</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-width" id="ref-for-dom-environmentdata-width">width</a></code>: indicates the display area width in pixels</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-height" id="ref-for-dom-environmentdata-height">height</a></code>: indicates the display area height in pixels</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-viewmode" id="ref-for-dom-environmentdata-viewmode">viewMode</a></code>: indicates the view mode for the video player as defined by the publisher. Must be one of the values of the <code class="idl"><a data-link-type="idl" href="#enumdef-viewmode" id="ref-for-enumdef-viewmode①">ViewMode</a></code> enum.</p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="#dom-viewmode-normal" id="ref-for-dom-viewmode-normal">normal</a></code></p>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="#dom-viewmode-thumbnail" id="ref-for-dom-viewmode-thumbnail">thumbnail</a></code></p>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="#dom-viewmode-fullscreen" id="ref-for-dom-viewmode-fullscreen">fullscreen</a></code></p>
       </ul>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-fullscreenallowed" id="ref-for-dom-environmentdata-fullscreenallowed">fullscreenAllowed</a></code>: primarily used to choose to display or not display a fullscreen option</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-variabledurationallowed" id="ref-for-dom-environmentdata-variabledurationallowed">variableDurationAllowed</a></code>: If set to true the player must allow the SIVIC creative to pause player-controlled video playback during the ad. If <code>false</code> it will not (live streaming is a use case). An example use case here is a clickthru overlays, where <code>variableDuration</code> (ad requirement) is <code>false</code>, but <code class="idl"><a data-link-type="idl" href="#dom-environmentdata-variabledurationallowed" id="ref-for-dom-environmentdata-variabledurationallowed①">variableDurationAllowed</a></code> (publisher capability) can be <code>true</code> or <code>false</code>. It should not be used in any case where disallowing the pause interferes with the ad KPIs (for example if it can interfere with completions, time spent in an interactive component, etc).</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-skippablestate" id="ref-for-dom-environmentdata-skippablestate">skippableState</a></code>: indicates whether the ad may be skippable and which party controls the skippability, must be one of the <code class="idl"><a data-link-type="idl" href="#enumdef-skippablestate" id="ref-for-enumdef-skippablestate">SkippableState</a></code> enum values.</p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="#dom-skippablestate-playerhandles" id="ref-for-dom-skippablestate-playerhandles">playerHandles</a></code>: The player will render a skip button and might skip the ad.</p>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="#dom-skippablestate-adhandles" id="ref-for-dom-skippablestate-adhandles">adHandles</a></code>: The ad may or may not render a skip button.</p>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="#dom-skippablestate-notskippable" id="ref-for-dom-skippablestate-notskippable">notSkippable</a></code>: The ad cannot be skipped and the SIVIC creative should not render a skip button. This may be common in DAI for live streams.</p>
       </ul>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-siteurl" id="ref-for-dom-environmentdata-siteurl">siteUrl</a></code>: indicating the website the ad will play on, for example if the site was <code>www.xyz.com/videoId</code>, this information would include at least <code>www.xyz.com</code>. The player may give more information. Desired for reporting and troubleshooting.</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-appid" id="ref-for-dom-environmentdata-appid">appId</a></code>: the id of the app if applicable</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-sdkname" id="ref-for-dom-environmentdata-sdkname">sdkName</a></code>: the name of an SDK implementing SIVIC creative playback (if applicable)</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-sdkversion" id="ref-for-dom-environmentdata-sdkversion">sdkVersion</a></code>: an SDK version (if applicable)</p>
      <li data-md="">
       <p><code class="idl"><a data-link-type="idl" href="#dom-environmentdata-deviceid" id="ref-for-dom-environmentdata-deviceid">deviceId</a></code>: IDFA or AAID would be used primarily for 3rd party tracking of custom events</p>
     </ul>
   </ul>
   <p>The video file (specified in VAST) will be loaded by the player.</p>
   <p>To assist in preloading assets the <code class="idl"><a data-link-type="idl" href="#dom-ad-initad" id="ref-for-dom-ad-initad②">initAd()</a></code> function must be called first. The player should call this function early enough before playback so that assets can be displayed as soon as the ad starts.</p>
   <p>The ad, however, should not assume that it has any amount of time between the <code class="idl"><a data-link-type="idl" href="#dom-ad-initad" id="ref-for-dom-ad-initad③">initAd()</a></code> call and the <code class="idl"><a data-link-type="idl" href="#dom-ad-startad" id="ref-for-dom-ad-startad①">startAd</a></code> call. For example a preroll might call <code class="idl"><a data-link-type="idl" href="#dom-ad-startad" id="ref-for-dom-ad-startad②">startAd</a></code> immediately after <code class="idl"><a data-link-type="idl" href="#dom-ad-initad" id="ref-for-dom-ad-initad④">initAd()</a></code>. Nothing should be displayed by the SIVIC creative until <code class="idl"><a data-link-type="idl" href="#dom-ad-startad" id="ref-for-dom-ad-startad③">startAd</a></code> is called.</p>
   <h3 class="heading settled" data-level="4.3" id="api-ad-playback"><span class="secno">4.3. </span><span class="content">How to Handle Ad Playback</span><a class="self-link" href="#api-ad-playback"></a></h3>
   <p>The video player is responsible for handling playback of the video as well as tracking video related events. The SIVIC creative on the other hand handles playback of interactive content and internal tracking related to interactivity (custom events, creative impression if desired (recommended)). The SIVIC creative should use the <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy②">VideoProxy</a></code> to modify the video stream in any way, and to subscribe to video playback related events.</p>
   <h4 class="heading settled" data-level="4.3.1" id="api-ad-pause"><span class="secno">4.3.1. </span><span class="content">Ad Pause</span><a class="self-link" href="#api-ad-pause"></a></h4>
   <p>If the <code class="idl"><a data-link-type="idl" href="#dom-environmentdata-variabledurationallowed" id="ref-for-dom-environmentdata-variabledurationallowed②">variableDurationAllowed</a></code> flag is set to <code>true</code> then the <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy③">VideoProxy</a></code> should enable video pause by the SIVIC creative via the <code class="idl"><a data-link-type="idl" href="#dom-videoproxy-pause" id="ref-for-dom-videoproxy-pause">pause</a></code> function. The <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy④">VideoProxy</a></code> must respond to <code class="idl"><a data-link-type="idl" href="#dom-videoproxy-pause" id="ref-for-dom-videoproxy-pause①">pause</a></code> with the <code>AdPaused</code> event.</p>
   <p>When the SIVIC creative would like to resume video playback, it should call the <code class="idl"><a data-link-type="idl" href="#dom-videoproxy-resume" id="ref-for-dom-videoproxy-resume">resume</a></code> function on the <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy⑤">VideoProxy</a></code>. The <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy⑥">VideoProxy</a></code> must respond to <code class="idl"><a data-link-type="idl" href="#dom-videoproxy-resume" id="ref-for-dom-videoproxy-resume①">resume</a></code> with the <code>AdPlaying</code> event.</p>
   <h4 class="heading settled" data-level="4.3.2" id="api-quartiles"><span class="secno">4.3.2. </span><span class="content">Ad Quartiles and Playback Events</span><a class="self-link" href="#api-quartiles"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy⑦">VideoProxy</a></code> must dispatch quartiles and playback events.</p>
   <p>The SIVIC creative may subscribe to any video playback events dispatched by the <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy⑧">VideoProxy</a></code> (<code>AdVideoStarted</code>, <code>AdImpression</code>, <code>AdFirstQuartile</code>, <code>AdSecondQuartile</code>, <code>AdThirdQuartile</code>, <code>AdVideoComplete</code>)</p>
   <p class="issue" id="issue-da98473d"><a class="self-link" href="#issue-da98473d"></a> consider renaming <code>AdSecondQuartile</code> to <code>AdMidpoint</code> to match VPAID</p>
   <p>The SIVIC creative at any time may poll the <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy⑨">VideoProxy</a></code> for playhead location relative to the beginning of the ad, which must be accurate and up to date at all times.</p>
   <p class="issue" id="issue-87de3958"><a class="self-link" href="#issue-87de3958"></a> how can accurateness be guaranteed across an async secure iframe?</p>
   <h4 class="heading settled" data-level="4.3.3" id="api-resizing"><span class="secno">4.3.3. </span><span class="content">Ad Resizing and Fullscreen</span><a class="self-link" href="#api-resizing"></a></h4>
   <p class="issue" id="issue-6ed90d5c"><a class="self-link" href="#issue-6ed90d5c"></a> can width / height coordination not be done through the iframe width height, which would not require any API?</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy①⓪">VideoProxy</a></code> has the <code class="idl"><a data-link-type="idl" href="#dom-videoproxy-resize" id="ref-for-dom-videoproxy-resize">resize(width, height)</a></code> method which changes only the size of the video. The <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy①①">VideoProxy</a></code> also has <code class="idl"><a data-link-type="idl" href="#dom-videoproxy-setlocation" id="ref-for-dom-videoproxy-setlocation">setLocation(x, y)</a></code> which positions the video relative to the top left corner of the ad slot.</p>
   <p>The player may resize the ad slot. The player must call <code class="idl"><a data-link-type="idl" href="#dom-ad-resizead" id="ref-for-dom-ad-resizead">resizeAd(width, height, viewMode)</a></code> any time the ad slot size is changed.</p>
   <p>If <code class="idl"><a data-link-type="idl" href="#dom-environmentdata-fullscreenallowed" id="ref-for-dom-environmentdata-fullscreenallowed①">fullscreenAllowed</a></code> is <code>true</code>, the SIVIC creative may invoke the <code class="idl"><a data-link-type="idl" href="#dom-videoproxy-fullscreen" id="ref-for-dom-videoproxy-fullscreen">fullscreen</a></code> method. The player must resize only the ad slot to fullscreen (not the video). The SIVIC creative then will resize the video as it sees fit. The player must call <code class="idl"><a data-link-type="idl" href="#dom-ad-resizead" id="ref-for-dom-ad-resizead①">resizeAd(width, height, viewMode)</a></code> on the SIVIC creative with <code class="idl"><a data-link-type="idl" href="#dom-ad-resizead-width-height-viewmode-viewmode" id="ref-for-dom-ad-resizead-width-height-viewmode-viewmode">viewMode</a></code> set to <code class="idl"><a data-link-type="idl" href="#dom-viewmode-fullscreen" id="ref-for-dom-viewmode-fullscreen①">fullscreen</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-ad-resizead-width-height-viewmode-width" id="ref-for-dom-ad-resizead-width-height-viewmode-width">width</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-ad-resizead-width-height-viewmode-height" id="ref-for-dom-ad-resizead-width-height-viewmode-height">height</a></code> set to the full screen dimensions.</p>
   <p>If player goes fullscreen on its own, it must also call <code class="idl"><a data-link-type="idl" href="#dom-ad-resizead" id="ref-for-dom-ad-resizead②">resizeAd(width, height, viewMode)</a></code> on the SIVIC creative with <code class="idl"><a data-link-type="idl" href="#dom-ad-resizead-width-height-viewmode-viewmode" id="ref-for-dom-ad-resizead-width-height-viewmode-viewmode①">viewMode</a></code> set to <code class="idl"><a data-link-type="idl" href="#dom-viewmode-fullscreen" id="ref-for-dom-viewmode-fullscreen②">fullscreen</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-ad-resizead-width-height-viewmode-width" id="ref-for-dom-ad-resizead-width-height-viewmode-width①">width</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-ad-resizead-width-height-viewmode-height" id="ref-for-dom-ad-resizead-width-height-viewmode-height①">height</a></code> set to the full screen dimensions. It must only resize the ad slot.</p>
   <p class="issue" id="issue-eea3696d"><a class="self-link" href="#issue-eea3696d"></a> should the player not also resize the video slot?</p>
   <h4 class="heading settled" data-level="4.3.4" id="api-volume"><span class="secno">4.3.4. </span><span class="content">Ad Volume</span><a class="self-link" href="#api-volume"></a></h4>
   <p>The volume set on the <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy①②">VideoProxy</a></code> should be respected by the ad unit when initialized.</p>
   <h3 class="heading settled" data-level="4.4" id="api-end"><span class="secno">4.4. </span><span class="content">How to Handle Ad End and Unload</span><a class="self-link" href="#api-end"></a></h3>
   <p>There are three cases where an ad has ended:</p>
   <ol>
    <li data-md="">
     <p>Ad was skipped, either by player or internally by the ad (if the ad contains the skip button). See <a href="#api-skip">§4.4.1 Ad Skips</a>.</p>
    <li data-md="">
     <p>Ad has fired <code>AdStopped</code> event, either in response to <code class="idl"><a data-link-type="idl" href="#dom-ad-stopad" id="ref-for-dom-ad-stopad①">stopAd</a></code> or after ad experience has ended.</p>
    <li data-md="">
     <p>Ad errors out. See <a href="#api-error">§4.4.5 Ad Errors Out</a>.</p>
   </ol>
   <h4 class="heading settled" data-level="4.4.1" id="api-skip"><span class="secno">4.4.1. </span><span class="content">Ad Skips</span><a class="self-link" href="#api-skip"></a></h4>
   <p><strong>Skip Ad Handled by Player</strong></p>
   <ol>
    <li data-md="">
     <p>The player calls <code class="idl"><a data-link-type="idl" href="#dom-ad-skipad" id="ref-for-dom-ad-skipad">skipAd</a></code> on the ad.</p>
    <li data-md="">
     <p>The ad dispatches <code>AdSkipped</code>.</p>
    <li data-md="">
     <p>The player fires any skip tracking pixels.</p>
    <li data-md="">
     <p>The ad cleans up and dispatches <code>AdStopped</code>.</p>
    <li data-md="">
     <p>The player unloads the ad.</p>
   </ol>
   <p><strong>Skip Ad Handled by Ad</strong></p>
   <ol>
    <li data-md="">
     <p>The ad dispatches <code>AdSkipped</code>.</p>
    <li data-md="">
     <p>The player fires any skip tracking pixels.</p>
    <li data-md="">
     <p>The ad cleans up and dispatches <code>AdStopped</code>.</p>
    <li data-md="">
     <p>The player unloads the ad.</p>
   </ol>
   <p class="issue" id="issue-9097e60b"><a class="self-link" href="#issue-9097e60b"></a> the <code class="idl"><a data-link-type="idl" href="#ad" id="ref-for-ad">Ad</a></code> interface currently does not offer any event registration system for the player to register handlers</p>
   <h4 class="heading settled" data-level="4.4.2" id="api-end-before-complete"><span class="secno">4.4.2. </span><span class="content">Ad Ends Before Video Completion</span><a class="self-link" href="#api-end-before-complete"></a></h4>
   <p>This scenario applies when the ad chooses to signal the player to kill it, typically at the prompting of the viewer. A good example would be a survey that allows the viewer to skip immediately to content when completed.</p>
   <ol>
    <li data-md="">
     <p>The ad cleans up and dispatches <code>AdStopped</code>.</p>
    <li data-md="">
     <p>The player unloads the ad.</p>
   </ol>
   <h4 class="heading settled" data-level="4.4.3" id="api-extend"><span class="secno">4.4.3. </span><span class="content">Ad Extends Beyond Video Completion</span><a class="self-link" href="#api-extend"></a></h4>
   <p>This scenario is only possible when the <code class="idl"><a data-link-type="idl" href="#dom-environmentdata-variabledurationallowed" id="ref-for-dom-environmentdata-variabledurationallowed③">variableDurationAllowed</a></code> flag is set to <code>true</code>. Video duration must only be extended in response to user interaction.</p>
   <ol>
    <li data-md="">
     <p>User interacts at any point during playback of the video, triggering extended ad portion.</p>
    <li data-md="">
     <p>Ad dispatches <code>AdDurationChange</code> event, and exposes the new duration of the ad via the <code class="idl"><a data-link-type="idl" href="#dom-ad-adduration" id="ref-for-dom-ad-adduration">adDuration</a></code> property (if the extended version is <code>x</code> seconds then <code class="idl"><a data-link-type="idl" href="#dom-ad-adduration" id="ref-for-dom-ad-adduration①">adDuration</a></code> would be <code>videoProxy.duration + x</code>).</p>
    <li data-md="">
     <p>The <code class="idl"><a data-link-type="idl" href="#videoproxy" id="ref-for-videoproxy①③">VideoProxy</a></code> dispatches <code>AdVideoComplete</code> event.</p>
    <li data-md="">
     <p>The ad enters its extended phase.</p>
    <li data-md="">
     <p>The ad dispatches <code>AdStopped</code> when extended phase is finished.</p>
   </ol>
   <p class="issue" id="issue-faef4180"><a class="self-link" href="#issue-faef4180"></a> clarify the value of the <code class="idl"><a data-link-type="idl" href="#dom-ad-adduration" id="ref-for-dom-ad-adduration②">adDuration</a></code> property as the current text does not seem to make much sense</p>
   <h4 class="heading settled" data-level="4.4.4" id="api-complete"><span class="secno">4.4.4. </span><span class="content">Ad Completes at Video Completion</span><a class="self-link" href="#api-complete"></a></h4>
   <p>When an ad finishes at the same time as its video.</p>
   <ol>
    <li data-md="">
     <p>Proxy video element raises the <code>AdVideoComplete</code> event upon video completion.</p>
    <li data-md="">
     <p>Player calls <code class="idl"><a data-link-type="idl" href="#dom-ad-stopad" id="ref-for-dom-ad-stopad②">stopAd</a></code></p>
    <li data-md="">
     <p>Ad dispatches <code>AdStopped</code> event after it cleans up.</p>
   </ol>
   <h4 class="heading settled" data-level="4.4.5" id="api-error"><span class="secno">4.4.5. </span><span class="content">Ad Errors Out</span><a class="self-link" href="#api-error"></a></h4>
   <p>The SIVIC creative or the player may terminate the ad unit with an error at any time. If the SIVIC creative indicates an error, the player should try to stop ad unit playback. This might not be possible in server side stitched ads.</p>
   <p>The player should terminate the ad with an error if the version returned by <code class="idl"><a data-link-type="idl" href="#dom-ad-handshakeversion" id="ref-for-dom-ad-handshakeversion②">handshakeVersion()</a></code> is not supported.</p>
   <p>The player may error out if the ad does not respond with <code>AdLoaded</code> and <code>AdStarted</code> in a reasonable amount of time.</p>
   <p>When an ad errors out it must follow these steps.</p>
   <ol>
    <li data-md="">
     <p>The <code class="idl"><a data-link-type="idl" href="#ad" id="ref-for-ad①">Ad</a></code> will dispatch <code>AdError(errorCode, errorMessage)</code></p>
    <li data-md="">
     <p>The player calls <code class="idl"><a data-link-type="idl" href="#dom-ad-stopad" id="ref-for-dom-ad-stopad③">stopAd</a></code> on the <code class="idl"><a data-link-type="idl" href="#ad" id="ref-for-ad②">Ad</a></code>.</p>
    <li data-md="">
     <p>The <code class="idl"><a data-link-type="idl" href="#ad" id="ref-for-ad③">Ad</a></code> dispatches <code>AdStopped</code> when it is done cleaning up.</p>
   </ol>
   <h4 class="heading settled" data-level="4.4.6" id="api-notes"><span class="secno">4.4.6. </span><span class="content">Additional Notes</span><a class="self-link" href="#api-notes"></a></h4>
   <p>The player may call <code class="idl"><a data-link-type="idl" href="#dom-ad-stopad" id="ref-for-dom-ad-stopad④">stopAd</a></code> at any time. The creative should respond with <code>AdStopped</code> after finishing its ad end logic. The player should allow 1 second between calling <code class="idl"><a data-link-type="idl" href="#dom-ad-stopad" id="ref-for-dom-ad-stopad⑤">stopAd</a></code> and receiving <code>AdStopped</code>. The implementer of the SDK should take into consideration that dropping a SIVIC ad unit before it has dispatched AdStopped may result in discrepancies, and that calling <code class="idl"><a data-link-type="idl" href="#dom-ad-stopad" id="ref-for-dom-ad-stopad⑥">stopAd</a></code> before the ad experience has ended (which is AFTER the optional lean-in phase) could harm the overall ad experience.</p>
   <p>The SIVIC creative may also dispatch <code>AdStopped</code> at any time, signaling to the player that the ad has finished and unloaded. Any further interaction with the SIVIC creative after <code>AdStopped</code> may not result in the desired outcome. The same is true for <code>AdError</code>.</p>
   <h2 class="heading settled" data-level="5" id="protocol"><span class="secno">5. </span><span class="content">Protocol Details</span><a class="self-link" href="#protocol"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="objects"><span class="secno">5.1. </span><span class="content">Objects</span><a class="self-link" href="#objects"></a></h3>
   <h4 class="heading settled" data-level="5.1.1" id="entry-point"><span class="secno">5.1.1. </span><span class="content">Entry Point</span><a class="self-link" href="#entry-point"></a></h4>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">interface</span> <span class="kt">mixin</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="ref-for-window">Window</a> {
  [<a class="nv idl-code" data-link-type="extended-attribute">SameObject</a>] <a class="n" data-link-type="idl-name" href="#ad" id="ref-for-ad④">Ad</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="method" data-export="" data-lt="getSIVICAd()" id="dom-window-getsivicad"><code>getSIVICAd</code></dfn>();
};
</pre>
   <h4 class="heading settled" data-level="5.1.2" id="object-ad"><span class="secno">5.1.2. </span><span class="content">Ad Interface</span><a class="self-link" href="#object-ad"></a></h4>
<pre class="idl highlight def"><span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="ad"><code>Ad</code></dfn> {
  <a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad" data-dfn-type="method" data-export="" data-lt="handshakeVersion(supportedVersion)" id="dom-ad-handshakeversion"><code>handshakeVersion</code></dfn>(<a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad/handshakeVersion(supportedVersion)" data-dfn-type="argument" data-export="" id="dom-ad-handshakeversion-supportedversion-supportedversion"><code>supportedVersion</code></dfn>);
  <span class="kt">void</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad" data-dfn-type="method" data-export="" data-lt="initAd(creativeData, envData)" id="dom-ad-initad"><code>initAd</code></dfn>(<a class="n" data-link-type="idl-name" href="#dictdef-creativedata" id="ref-for-dictdef-creativedata①">CreativeData</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad/initAd(creativeData, envData)" data-dfn-type="argument" data-export="" id="dom-ad-initad-creativedata-envdata-creativedata"><code>creativeData</code></dfn>, <a class="n" data-link-type="idl-name" href="#dictdef-environmentdata" id="ref-for-dictdef-environmentdata②">EnvironmentData</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad/initAd(creativeData, envData)" data-dfn-type="argument" data-export="" id="dom-ad-initad-creativedata-envdata-envdata"><code>envData</code></dfn>);
  <span class="kt">void</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad" data-dfn-type="method" data-export="" data-lt="startAd()" id="dom-ad-startad"><code>startAd</code></dfn>();
  <span class="kt">void</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad" data-dfn-type="method" data-export="" data-lt="stopAd()" id="dom-ad-stopad"><code>stopAd</code></dfn>();
  <span class="kt">void</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad" data-dfn-type="method" data-export="" data-lt="skipAd()" id="dom-ad-skipad"><code>skipAd</code></dfn>();
  <span class="kt">void</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad" data-dfn-type="method" data-export="" data-lt="resizeAd(width, height, viewMode)" id="dom-ad-resizead"><code>resizeAd</code></dfn>(<a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad/resizeAd(width, height, viewMode)" data-dfn-type="argument" data-export="" id="dom-ad-resizead-width-height-viewmode-width"><code>width</code></dfn>, <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad/resizeAd(width, height, viewMode)" data-dfn-type="argument" data-export="" id="dom-ad-resizead-width-height-viewmode-height"><code>height</code></dfn>, <a class="n" data-link-type="idl-name" href="#enumdef-viewmode" id="ref-for-enumdef-viewmode②">ViewMode</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad/resizeAd(width, height, viewMode)" data-dfn-type="argument" data-export="" id="dom-ad-resizead-width-height-viewmode-viewmode"><code>viewMode</code></dfn>);
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="Ad" data-dfn-type="attribute" data-export="" data-readonly="" data-type="float" id="dom-ad-adwidth"><code>adWidth</code><a class="self-link" href="#dom-ad-adwidth"></a></dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="Ad" data-dfn-type="attribute" data-export="" data-readonly="" data-type="float" id="dom-ad-adheight"><code>adHeight</code><a class="self-link" href="#dom-ad-adheight"></a></dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Ad" data-dfn-type="attribute" data-export="" data-readonly="" data-type="float" id="dom-ad-adduration"><code>adDuration</code></dfn>;
};
</pre>
   <dl>
    <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-ad-handshakeversion" id="ref-for-dom-ad-handshakeversion③">handshakeVersion()</a></code>
    <dd data-md="">
     <p>Negotiates version support between the player and ad. The player passes <code class="idl"><a data-link-type="idl" href="#dom-ad-handshakeversion-supportedversion-supportedversion" id="ref-for-dom-ad-handshakeversion-supportedversion-supportedversion">supportedVersion</a></code> set to the highest version it supports. <code class="idl"><a data-link-type="idl">handshakeVersion</a></code> returns the version it supports.</p>
   </dl>
   <p class="issue" id="issue-f43489d6"><a class="self-link" href="#issue-f43489d6"></a> consider passing <code>supportedVersion</code> on the <code class="idl"><a data-link-type="idl" href="#dom-window-getsivicad" id="ref-for-dom-window-getsivicad①">getSIVICAd()</a></code> function call, so the ad can respond with an object that matches the requested API</p>
   <dl>
    <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-ad-adduration" id="ref-for-dom-ad-adduration③">adDuration</a></code>
    <dd data-md="">
     <p>The full duration of the ad experience, including video and extended features</p>
   </dl>
   <h4 class="heading settled" data-level="5.1.3" id="object-video-proxy"><span class="secno">5.1.3. </span><span class="content">VideoProxy Interface</span><a class="self-link" href="#object-video-proxy"></a></h4>
<pre class="idl highlight def"><span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="videoproxy"><code>VideoProxy</code></dfn> {
  <span class="kt">void</span> <dfn class="nv idl-code" data-dfn-for="VideoProxy" data-dfn-type="method" data-export="" data-lt="removeEventListener(eventName, eventHandler)" id="dom-videoproxy-removeeventlistener"><code>removeEventListener</code><a class="self-link" href="#dom-videoproxy-removeeventlistener"></a></dfn>(<a class="n" data-link-type="idl-name">string</a> <dfn class="nv idl-code" data-dfn-for="VideoProxy/removeEventListener(eventName, eventHandler)" data-dfn-type="argument" data-export="" id="dom-videoproxy-removeeventlistener-eventname-eventhandler-eventname"><code>eventName</code><a class="self-link" href="#dom-videoproxy-removeeventlistener-eventname-eventhandler-eventname"></a></dfn>, <span class="kt">any</span> <dfn class="nv idl-code" data-dfn-for="VideoProxy/removeEventListener(eventName, eventHandler)" data-dfn-type="argument" data-export="" id="dom-videoproxy-removeeventlistener-eventname-eventhandler-eventhandler"><code>eventHandler</code><a class="self-link" href="#dom-videoproxy-removeeventlistener-eventname-eventhandler-eventhandler"></a></dfn>);
  <span class="kt">void</span> <dfn class="nv idl-code" data-dfn-for="VideoProxy" data-dfn-type="method" data-export="" data-lt="addEventListener(eventName, eventHandler)" id="dom-videoproxy-addeventlistener"><code>addEventListener</code><a class="self-link" href="#dom-videoproxy-addeventlistener"></a></dfn>(<a class="n" data-link-type="idl-name">string</a> <dfn class="nv idl-code" data-dfn-for="VideoProxy/addEventListener(eventName, eventHandler)" data-dfn-type="argument" data-export="" id="dom-videoproxy-addeventlistener-eventname-eventhandler-eventname"><code>eventName</code><a class="self-link" href="#dom-videoproxy-addeventlistener-eventname-eventhandler-eventname"></a></dfn>, <span class="kt">any</span> <dfn class="nv idl-code" data-dfn-for="VideoProxy/addEventListener(eventName, eventHandler)" data-dfn-type="argument" data-export="" id="dom-videoproxy-addeventlistener-eventname-eventhandler-eventhandler"><code>eventHandler</code><a class="self-link" href="#dom-videoproxy-addeventlistener-eventname-eventhandler-eventhandler"></a></dfn>);
  <span class="kt">void</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="VideoProxy" data-dfn-type="method" data-export="" data-lt="pause()" id="dom-videoproxy-pause"><code>pause</code></dfn>();
  <span class="kt">void</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="VideoProxy" data-dfn-type="method" data-export="" data-lt="fullscreen()" id="dom-videoproxy-fullscreen"><code>fullscreen</code></dfn>();
  <span class="kt">void</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="VideoProxy" data-dfn-type="method" data-export="" data-lt="resume()" id="dom-videoproxy-resume"><code>resume</code></dfn>();
  <span class="kt">void</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="VideoProxy" data-dfn-type="method" data-export="" data-lt="resize(width, height)" id="dom-videoproxy-resize"><code>resize</code></dfn>(<a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy/resize(width, height)" data-dfn-type="argument" data-export="" id="dom-videoproxy-resize-width-height-width"><code>width</code><a class="self-link" href="#dom-videoproxy-resize-width-height-width"></a></dfn>, <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy/resize(width, height)" data-dfn-type="argument" data-export="" id="dom-videoproxy-resize-width-height-height"><code>height</code><a class="self-link" href="#dom-videoproxy-resize-width-height-height"></a></dfn>);
  <span class="kt">void</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="VideoProxy" data-dfn-type="method" data-export="" data-lt="setLocation(x, y)" id="dom-videoproxy-setlocation"><code>setLocation</code></dfn>(<a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy/setLocation(x, y)" data-dfn-type="argument" data-export="" id="dom-videoproxy-setlocation-x-y-x"><code>x</code><a class="self-link" href="#dom-videoproxy-setlocation-x-y-x"></a></dfn>, <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy/setLocation(x, y)" data-dfn-type="argument" data-export="" id="dom-videoproxy-setlocation-x-y-y"><code>y</code><a class="self-link" href="#dom-videoproxy-setlocation-x-y-y"></a></dfn>);
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy" data-dfn-type="attribute" data-export="" data-readonly="" data-type="float" id="dom-videoproxy-duration"><code>duration</code><a class="self-link" href="#dom-videoproxy-duration"></a></dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy" data-dfn-type="attribute" data-export="" data-readonly="" data-type="float" id="dom-videoproxy-currenttime"><code>currentTime</code><a class="self-link" href="#dom-videoproxy-currenttime"></a></dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy" data-dfn-type="attribute" data-export="" data-readonly="" data-type="float" id="dom-videoproxy-playbackrate"><code>playbackRate</code><a class="self-link" href="#dom-videoproxy-playbackrate"></a></dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy" data-dfn-type="attribute" data-export="" data-readonly="" data-type="boolean" id="dom-videoproxy-ended"><code>ended</code><a class="self-link" href="#dom-videoproxy-ended"></a></dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy" data-dfn-type="attribute" data-export="" data-readonly="" data-type="boolean" id="dom-videoproxy-paused"><code>paused</code><a class="self-link" href="#dom-videoproxy-paused"></a></dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy" data-dfn-type="attribute" data-export="" data-readonly="" data-type="boolean" id="dom-videoproxy-muted"><code>muted</code><a class="self-link" href="#dom-videoproxy-muted"></a></dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="VideoProxy" data-dfn-type="attribute" data-export="" data-readonly="" data-type="float" id="dom-videoproxy-volume"><code>volume</code><a class="self-link" href="#dom-videoproxy-volume"></a></dfn>;
};
</pre>
   <h4 class="heading settled" data-level="5.1.4" id="object-creative-data"><span class="secno">5.1.4. </span><span class="content">Creative Data</span><a class="self-link" href="#object-creative-data"></a></h4>
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-creativedata"><code>CreativeData</code></dfn> {
  <span class="kt">required</span> <a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="CreativeData" data-dfn-type="dict-member" data-export="" data-type="string " id="dom-creativedata-adparameters"><code>adParameters</code></dfn>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="CreativeData" data-dfn-type="dict-member" data-export="" data-type="string " id="dom-creativedata-adid"><code>adId</code></dfn>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="CreativeData" data-dfn-type="dict-member" data-export="" data-type="string " id="dom-creativedata-creativeid"><code>creativeId</code></dfn>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="CreativeData" data-dfn-type="dict-member" data-export="" data-type="string " id="dom-creativedata-adservingid"><code>adServingId</code></dfn>;
};
</pre>
   <h4 class="heading settled" data-level="5.1.5" id="object-env-data"><span class="secno">5.1.5. </span><span class="content">Environment Data</span><a class="self-link" href="#object-env-data"></a></h4>
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-environmentdata"><code>EnvironmentData</code></dfn> {
  <span class="kt">required</span> <a class="n" data-link-type="idl-name">DOMElement</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="DOMElement " id="dom-environmentdata-slot"><code>slot</code></dfn>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#videoproxy" id="ref-for-videoproxy①④">VideoProxy</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="VideoProxy " id="dom-environmentdata-videoproxy"><code>videoProxy</code></dfn>;
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="float " id="dom-environmentdata-width"><code>width</code></dfn>;
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="float " id="dom-environmentdata-height"><code>height</code></dfn>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-viewmode" id="ref-for-enumdef-viewmode③">ViewMode</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="ViewMode " id="dom-environmentdata-viewmode"><code>viewMode</code></dfn>;
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface"><span class="kt">boolean</span></a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-environmentdata-fullscreenallowed"><code>fullscreenAllowed</code></dfn>;
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface"><span class="kt">boolean</span></a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-environmentdata-variabledurationallowed"><code>variableDurationAllowed</code></dfn>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-skippablestate" id="ref-for-enumdef-skippablestate①">SkippableState</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="SkippableState " id="dom-environmentdata-skippablestate"><code>skippableState</code></dfn>;
  <a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="string " id="dom-environmentdata-siteurl"><code>siteUrl</code></dfn>;
  <a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="string " id="dom-environmentdata-appid"><code>appId</code></dfn>;
  <a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="string " id="dom-environmentdata-sdkname"><code>sdkName</code></dfn>;
  <a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="string " id="dom-environmentdata-sdkversion"><code>sdkVersion</code></dfn>;
  <a class="n" data-link-type="idl-name">string</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="EnvironmentData" data-dfn-type="dict-member" data-export="" data-type="string " id="dom-environmentdata-deviceid"><code>deviceId</code></dfn>;
};

<span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-viewmode"><code>ViewMode</code></dfn> {<dfn class="s dfn-paneled idl-code" data-dfn-for="ViewMode" data-dfn-type="enum-value" data-export="" id="dom-viewmode-normal"><code>"normal"</code></dfn>, <dfn class="s dfn-paneled idl-code" data-dfn-for="ViewMode" data-dfn-type="enum-value" data-export="" id="dom-viewmode-thumbnail"><code>"thumbnail"</code></dfn>, <dfn class="s dfn-paneled idl-code" data-dfn-for="ViewMode" data-dfn-type="enum-value" data-export="" id="dom-viewmode-fullscreen"><code>"fullscreen"</code></dfn>};
<span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-skippablestate"><code>SkippableState</code></dfn> {<dfn class="s dfn-paneled idl-code" data-dfn-for="SkippableState" data-dfn-type="enum-value" data-export="" id="dom-skippablestate-playerhandles"><code>"playerHandles"</code></dfn>, <dfn class="s dfn-paneled idl-code" data-dfn-for="SkippableState" data-dfn-type="enum-value" data-export="" id="dom-skippablestate-adhandles"><code>"adHandles"</code></dfn>, <dfn class="s dfn-paneled idl-code" data-dfn-for="SkippableState" data-dfn-type="enum-value" data-export="" id="dom-skippablestate-notskippable"><code>"notSkippable"</code></dfn>};
</pre>
   <h3 class="heading settled" data-level="5.2" id="errors"><span class="secno">5.2. </span><span class="content">Error Handling and Timeouts</span><a class="self-link" href="#errors"></a></h3>
   <h3 class="heading settled" data-level="5.3" id="ad-completion"><span class="secno">5.3. </span><span class="content">Ad Completion</span><a class="self-link" href="#ad-completion"></a></h3>
   <h2 class="heading settled" data-level="6" id="security"><span class="secno">6. </span><span class="content">Security</span><a class="self-link" href="#security"></a></h2>
   <h2 class="heading settled" data-level="7" id="examples"><span class="secno">7. </span><span class="content">Examples</span><a class="self-link" href="#examples"></a></h2>
   <h2 class="heading settled" data-level="8" id="lang-specific"><span class="secno">8. </span><span class="content">Language-Specific Implementation Details</span><a class="self-link" href="#lang-specific"></a></h2>
   <h2 class="heading settled" data-level="9" id="terminology"><span class="secno">9. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h2>
   <dl>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="sivic-vast">SIVIC VAST<a class="self-link" href="#sivic-vast"></a></dfn>
    <dd data-md="">
     <p>The VAST document that contains the SIVIC ad unit components.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="sivic-ad-unit">SIVIC Ad Unit<a class="self-link" href="#sivic-ad-unit"></a></dfn>
    <dd data-md="">
     <p>The SIVIC ad video and the SIVIC ad creative.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="sivic-video">SIVIC Video<a class="self-link" href="#sivic-video"></a></dfn>
    <dd data-md="">
     <p>The SIVIC ad video component if it’s a progressively downloaded video file.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="sivic-video-stream">SIVIC Video Stream<a class="self-link" href="#sivic-video-stream"></a></dfn>
    <dd data-md="">
     <p>The SIVIC ad video component if it’s SSAI video.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="sivic-live-video-stream">SIVIC Live Video Stream<a class="self-link" href="#sivic-live-video-stream"></a></dfn>
    <dd data-md="">
     <p>The SIVIC ad video component if live streaming video.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="sivic-creative">SIVIC Creative<a class="self-link" href="#sivic-creative"></a></dfn>
    <dd data-md="">
     <p>The SIVIC ad creative component (html doc and assets) that overlays the SIVIC ad video.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="sivic-secondary-video">SIVIC Secondary Video<a class="self-link" href="#sivic-secondary-video"></a></dfn>
    <dd data-md="">
     <p>Video assets that are loaded as part of the SIVIC creative and not the primary video.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="content-video">Content Video<a class="self-link" href="#content-video"></a></dfn>
    <dd data-md="">
     <p>Any reference to video that is NOT a component or asset of the ad unit.</p>
   </dl>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification. </p>
   <p> All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p> Examples in this specification are introduced with the words “for example”
            or are set apart from the normative text with <code>class="example"</code>, like this: </p>
   <div class="example" id="example-example"><a class="self-link" href="#example-example"></a> This is an example of an informative example. </div>
   <p> Informative notes begin with the word “Note”
            and are set apart from the normative text with <code>class="note"</code>, like this: </p>
   <p class="note" role="note"> Note, this is an informative note. </p>
  </div>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#ad">Ad</a><span>, in §5.1.2</span>
   <li><a href="#dom-videoproxy-addeventlistener">addEventListener(eventName, eventHandler)</a><span>, in §5.1.3</span>
   <li><a href="#dom-ad-adduration">adDuration</a><span>, in §5.1.2</span>
   <li><a href="#dom-skippablestate-adhandles">"adHandles"</a><span>, in §5.1.5</span>
   <li><a href="#dom-ad-adheight">adHeight</a><span>, in §5.1.2</span>
   <li><a href="#dom-creativedata-adid">adId</a><span>, in §5.1.4</span>
   <li><a href="#dom-creativedata-adparameters">adParameters</a><span>, in §5.1.4</span>
   <li><a href="#dom-creativedata-adservingid">adServingId</a><span>, in §5.1.4</span>
   <li><a href="#dom-ad-adwidth">adWidth</a><span>, in §5.1.2</span>
   <li><a href="#dom-environmentdata-appid">appId</a><span>, in §5.1.5</span>
   <li><a href="#content-video">Content Video</a><span>, in §9</span>
   <li><a href="#dictdef-creativedata">CreativeData</a><span>, in §5.1.4</span>
   <li><a href="#dom-creativedata-creativeid">creativeId</a><span>, in §5.1.4</span>
   <li><a href="#dom-videoproxy-currenttime">currentTime</a><span>, in §5.1.3</span>
   <li><a href="#dom-environmentdata-deviceid">deviceId</a><span>, in §5.1.5</span>
   <li><a href="#dom-videoproxy-duration">duration</a><span>, in §5.1.3</span>
   <li><a href="#dom-videoproxy-ended">ended</a><span>, in §5.1.3</span>
   <li><a href="#dictdef-environmentdata">EnvironmentData</a><span>, in §5.1.5</span>
   <li><a href="#dom-videoproxy-fullscreen">fullscreen()</a><span>, in §5.1.3</span>
   <li><a href="#dom-viewmode-fullscreen">"fullscreen"</a><span>, in §5.1.5</span>
   <li><a href="#dom-environmentdata-fullscreenallowed">fullscreenAllowed</a><span>, in §5.1.5</span>
   <li><a href="#dom-window-getsivicad">getSIVICAd()</a><span>, in §5.1.1</span>
   <li><a href="#dom-ad-handshakeversion">handshakeVersion(supportedVersion)</a><span>, in §5.1.2</span>
   <li><a href="#dom-environmentdata-height">height</a><span>, in §5.1.5</span>
   <li><a href="#dom-ad-initad">initAd(creativeData, envData)</a><span>, in §5.1.2</span>
   <li><a href="#dom-videoproxy-muted">muted</a><span>, in §5.1.3</span>
   <li><a href="#dom-viewmode-normal">"normal"</a><span>, in §5.1.5</span>
   <li><a href="#dom-skippablestate-notskippable">"notSkippable"</a><span>, in §5.1.5</span>
   <li><a href="#dom-videoproxy-pause">pause()</a><span>, in §5.1.3</span>
   <li><a href="#dom-videoproxy-paused">paused</a><span>, in §5.1.3</span>
   <li><a href="#dom-videoproxy-playbackrate">playbackRate</a><span>, in §5.1.3</span>
   <li><a href="#dom-skippablestate-playerhandles">"playerHandles"</a><span>, in §5.1.5</span>
   <li><a href="#dom-videoproxy-removeeventlistener">removeEventListener(eventName, eventHandler)</a><span>, in §5.1.3</span>
   <li><a href="#dom-ad-resizead">resizeAd(width, height, viewMode)</a><span>, in §5.1.2</span>
   <li><a href="#dom-videoproxy-resize">resize(width, height)</a><span>, in §5.1.3</span>
   <li><a href="#dom-videoproxy-resume">resume()</a><span>, in §5.1.3</span>
   <li><a href="#dom-environmentdata-sdkname">sdkName</a><span>, in §5.1.5</span>
   <li><a href="#dom-environmentdata-sdkversion">sdkVersion</a><span>, in §5.1.5</span>
   <li><a href="#dom-videoproxy-setlocation">setLocation(x, y)</a><span>, in §5.1.3</span>
   <li><a href="#dom-environmentdata-siteurl">siteUrl</a><span>, in §5.1.5</span>
   <li><a href="#sivic-ad-unit">SIVIC Ad Unit</a><span>, in §9</span>
   <li><a href="#sivic-creative">SIVIC Creative</a><span>, in §9</span>
   <li><a href="#sivic-live-video-stream">SIVIC Live Video Stream</a><span>, in §9</span>
   <li><a href="#sivic-secondary-video">SIVIC Secondary Video</a><span>, in §9</span>
   <li><a href="#sivic-vast">SIVIC VAST</a><span>, in §9</span>
   <li><a href="#sivic-video">SIVIC Video</a><span>, in §9</span>
   <li><a href="#sivic-video-stream">SIVIC Video Stream</a><span>, in §9</span>
   <li><a href="#dom-ad-skipad">skipAd()</a><span>, in §5.1.2</span>
   <li><a href="#dom-environmentdata-skippablestate">skippableState</a><span>, in §5.1.5</span>
   <li><a href="#enumdef-skippablestate">SkippableState</a><span>, in §5.1.5</span>
   <li><a href="#dom-environmentdata-slot">slot</a><span>, in §5.1.5</span>
   <li><a href="#dom-ad-startad">startAd()</a><span>, in §5.1.2</span>
   <li><a href="#dom-ad-stopad">stopAd()</a><span>, in §5.1.2</span>
   <li><a href="#dom-viewmode-thumbnail">"thumbnail"</a><span>, in §5.1.5</span>
   <li><a href="#dom-environmentdata-variabledurationallowed">variableDurationAllowed</a><span>, in §5.1.5</span>
   <li><a href="#dom-environmentdata-videoproxy">videoProxy</a><span>, in §5.1.5</span>
   <li><a href="#videoproxy">VideoProxy</a><span>, in §5.1.3</span>
   <li><a href="#enumdef-viewmode">ViewMode</a><span>, in §5.1.5</span>
   <li><a href="#dom-environmentdata-viewmode">viewMode</a><span>, in §5.1.5</span>
   <li><a href="#dom-videoproxy-volume">volume</a><span>, in §5.1.3</span>
   <li><a href="#dom-environmentdata-width">width</a><span>, in §5.1.5</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">interface</span> <span class="kt">mixin</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="ref-for-window①">Window</a> {
  [<a class="nv idl-code" data-link-type="extended-attribute">SameObject</a>] <a class="n" data-link-type="idl-name" href="#ad" id="ref-for-ad④①">Ad</a> <a class="nv" href="#dom-window-getsivicad"><code>getSIVICAd</code></a>();
};

<span class="kt">interface</span> <a class="nv" href="#ad"><code>Ad</code></a> {
  <a class="n" data-link-type="idl-name">string</a> <a class="nv" href="#dom-ad-handshakeversion"><code>handshakeVersion</code></a>(<a class="n" data-link-type="idl-name">string</a> <a class="nv" href="#dom-ad-handshakeversion-supportedversion-supportedversion"><code>supportedVersion</code></a>);
  <span class="kt">void</span> <a class="nv" href="#dom-ad-initad"><code>initAd</code></a>(<a class="n" data-link-type="idl-name" href="#dictdef-creativedata" id="ref-for-dictdef-creativedata①①">CreativeData</a> <a class="nv" href="#dom-ad-initad-creativedata-envdata-creativedata"><code>creativeData</code></a>, <a class="n" data-link-type="idl-name" href="#dictdef-environmentdata" id="ref-for-dictdef-environmentdata②①">EnvironmentData</a> <a class="nv" href="#dom-ad-initad-creativedata-envdata-envdata"><code>envData</code></a>);
  <span class="kt">void</span> <a class="nv" href="#dom-ad-startad"><code>startAd</code></a>();
  <span class="kt">void</span> <a class="nv" href="#dom-ad-stopad"><code>stopAd</code></a>();
  <span class="kt">void</span> <a class="nv" href="#dom-ad-skipad"><code>skipAd</code></a>();
  <span class="kt">void</span> <a class="nv" href="#dom-ad-resizead"><code>resizeAd</code></a>(<a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" href="#dom-ad-resizead-width-height-viewmode-width"><code>width</code></a>, <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" href="#dom-ad-resizead-width-height-viewmode-height"><code>height</code></a>, <a class="n" data-link-type="idl-name" href="#enumdef-viewmode" id="ref-for-enumdef-viewmode②①">ViewMode</a> <a class="nv" href="#dom-ad-resizead-width-height-viewmode-viewmode"><code>viewMode</code></a>);
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" data-readonly="" data-type="float" href="#dom-ad-adwidth"><code>adWidth</code></a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" data-readonly="" data-type="float" href="#dom-ad-adheight"><code>adHeight</code></a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" data-readonly="" data-type="float" href="#dom-ad-adduration"><code>adDuration</code></a>;
};

<span class="kt">interface</span> <a class="nv" href="#videoproxy"><code>VideoProxy</code></a> {
  <span class="kt">void</span> <a class="nv" href="#dom-videoproxy-removeeventlistener"><code>removeEventListener</code></a>(<a class="n" data-link-type="idl-name">string</a> <a class="nv" href="#dom-videoproxy-removeeventlistener-eventname-eventhandler-eventname"><code>eventName</code></a>, <span class="kt">any</span> <a class="nv" href="#dom-videoproxy-removeeventlistener-eventname-eventhandler-eventhandler"><code>eventHandler</code></a>);
  <span class="kt">void</span> <a class="nv" href="#dom-videoproxy-addeventlistener"><code>addEventListener</code></a>(<a class="n" data-link-type="idl-name">string</a> <a class="nv" href="#dom-videoproxy-addeventlistener-eventname-eventhandler-eventname"><code>eventName</code></a>, <span class="kt">any</span> <a class="nv" href="#dom-videoproxy-addeventlistener-eventname-eventhandler-eventhandler"><code>eventHandler</code></a>);
  <span class="kt">void</span> <a class="nv" href="#dom-videoproxy-pause"><code>pause</code></a>();
  <span class="kt">void</span> <a class="nv" href="#dom-videoproxy-fullscreen"><code>fullscreen</code></a>();
  <span class="kt">void</span> <a class="nv" href="#dom-videoproxy-resume"><code>resume</code></a>();
  <span class="kt">void</span> <a class="nv" href="#dom-videoproxy-resize"><code>resize</code></a>(<a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" href="#dom-videoproxy-resize-width-height-width"><code>width</code></a>, <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" href="#dom-videoproxy-resize-width-height-height"><code>height</code></a>);
  <span class="kt">void</span> <a class="nv" href="#dom-videoproxy-setlocation"><code>setLocation</code></a>(<a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" href="#dom-videoproxy-setlocation-x-y-x"><code>x</code></a>, <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" href="#dom-videoproxy-setlocation-x-y-y"><code>y</code></a>);
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" data-readonly="" data-type="float" href="#dom-videoproxy-duration"><code>duration</code></a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" data-readonly="" data-type="float" href="#dom-videoproxy-currenttime"><code>currentTime</code></a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" data-readonly="" data-type="float" href="#dom-videoproxy-playbackrate"><code>playbackRate</code></a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">boolean</span></a> <a class="nv" data-readonly="" data-type="boolean" href="#dom-videoproxy-ended"><code>ended</code></a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">boolean</span></a> <a class="nv" data-readonly="" data-type="boolean" href="#dom-videoproxy-paused"><code>paused</code></a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">boolean</span></a> <a class="nv" data-readonly="" data-type="boolean" href="#dom-videoproxy-muted"><code>muted</code></a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" data-readonly="" data-type="float" href="#dom-videoproxy-volume"><code>volume</code></a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-creativedata"><code>CreativeData</code></a> {
  <span class="kt">required</span> <a class="n" data-link-type="idl-name">string</a> <a class="nv" data-type="string " href="#dom-creativedata-adparameters"><code>adParameters</code></a>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name">string</a> <a class="nv" data-type="string " href="#dom-creativedata-adid"><code>adId</code></a>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name">string</a> <a class="nv" data-type="string " href="#dom-creativedata-creativeid"><code>creativeId</code></a>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name">string</a> <a class="nv" data-type="string " href="#dom-creativedata-adservingid"><code>adServingId</code></a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-environmentdata"><code>EnvironmentData</code></a> {
  <span class="kt">required</span> <a class="n" data-link-type="idl-name">DOMElement</a> <a class="nv" data-type="DOMElement " href="#dom-environmentdata-slot"><code>slot</code></a>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#videoproxy" id="ref-for-videoproxy①④①">VideoProxy</a> <a class="nv" data-type="VideoProxy " href="#dom-environmentdata-videoproxy"><code>videoProxy</code></a>;
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" data-type="float " href="#dom-environmentdata-width"><code>width</code></a>;
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface"><span class="kt">float</span></a> <a class="nv" data-type="float " href="#dom-environmentdata-height"><code>height</code></a>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-viewmode" id="ref-for-enumdef-viewmode③①">ViewMode</a> <a class="nv" data-type="ViewMode " href="#dom-environmentdata-viewmode"><code>viewMode</code></a>;
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface"><span class="kt">boolean</span></a> <a class="nv" data-type="boolean " href="#dom-environmentdata-fullscreenallowed"><code>fullscreenAllowed</code></a>;
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface"><span class="kt">boolean</span></a> <a class="nv" data-type="boolean " href="#dom-environmentdata-variabledurationallowed"><code>variableDurationAllowed</code></a>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-skippablestate" id="ref-for-enumdef-skippablestate①①">SkippableState</a> <a class="nv" data-type="SkippableState " href="#dom-environmentdata-skippablestate"><code>skippableState</code></a>;
  <a class="n" data-link-type="idl-name">string</a> <a class="nv" data-type="string " href="#dom-environmentdata-siteurl"><code>siteUrl</code></a>;
  <a class="n" data-link-type="idl-name">string</a> <a class="nv" data-type="string " href="#dom-environmentdata-appid"><code>appId</code></a>;
  <a class="n" data-link-type="idl-name">string</a> <a class="nv" data-type="string " href="#dom-environmentdata-sdkname"><code>sdkName</code></a>;
  <a class="n" data-link-type="idl-name">string</a> <a class="nv" data-type="string " href="#dom-environmentdata-sdkversion"><code>sdkVersion</code></a>;
  <a class="n" data-link-type="idl-name">string</a> <a class="nv" data-type="string " href="#dom-environmentdata-deviceid"><code>deviceId</code></a>;
};

<span class="kt">enum</span> <a class="nv" href="#enumdef-viewmode"><code>ViewMode</code></a> {<a class="s" href="#dom-viewmode-normal"><code>"normal"</code></a>, <a class="s" href="#dom-viewmode-thumbnail"><code>"thumbnail"</code></a>, <a class="s" href="#dom-viewmode-fullscreen"><code>"fullscreen"</code></a>};
<span class="kt">enum</span> <a class="nv" href="#enumdef-skippablestate"><code>SkippableState</code></a> {<a class="s" href="#dom-skippablestate-playerhandles"><code>"playerHandles"</code></a>, <a class="s" href="#dom-skippablestate-adhandles"><code>"adHandles"</code></a>, <a class="s" href="#dom-skippablestate-notskippable"><code>"notSkippable"</code></a>};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> the diagram above will need to be revised to account for SSAI and non-SSAI scenarios<a href="#issue-f49d752f"> ↵ </a></div>
   <div class="issue"> the diagram above will need to be revised to account for SSAI and non-SSAI scenarios<a href="#issue-f49d752f①"> ↵ </a></div>
   <div class="issue"> need to define the definitions of the <code class="idl"><a data-link-type="idl" href="#enumdef-viewmode">ViewMode</a></code> enum values<a href="#issue-db0e834b"> ↵ </a></div>
   <div class="issue"> consider renaming <code>AdSecondQuartile</code> to <code>AdMidpoint</code> to match VPAID<a href="#issue-da98473d"> ↵ </a></div>
   <div class="issue"> how can accurateness be guaranteed across an async secure iframe?<a href="#issue-87de3958"> ↵ </a></div>
   <div class="issue"> can width / height coordination not be done through the iframe width height, which would not require any API?<a href="#issue-6ed90d5c"> ↵ </a></div>
   <div class="issue"> should the player not also resize the video slot?<a href="#issue-eea3696d"> ↵ </a></div>
   <div class="issue"> the <code class="idl"><a data-link-type="idl" href="#ad">Ad</a></code> interface currently does not offer any event registration system for the player to register handlers<a href="#issue-9097e60b"> ↵ </a></div>
   <div class="issue"> clarify the value of the <code class="idl"><a data-link-type="idl" href="#dom-ad-adduration">adDuration</a></code> property as the current text does not seem to make much sense<a href="#issue-faef4180"> ↵ </a></div>
   <div class="issue"> consider passing <code>supportedVersion</code> on the <code class="idl"><a data-link-type="idl" href="#dom-window-getsivicad">getSIVICAd()</a></code> function call, so the ad can respond with an object that matches the requested API<a href="#issue-f43489d6"> ↵ </a></div>
  </div>
  <aside class="dfn-panel" data-for="dom-window-getsivicad">
   <b><a href="#dom-window-getsivicad">#dom-window-getsivicad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-window-getsivicad">4.2. How to Handle Ad Loading</a>
    <li><a href="#ref-for-dom-window-getsivicad①">5.1.2. Ad Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="ad">
   <b><a href="#ad">#ad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ad">4.4.1. Ad Skips</a>
    <li><a href="#ref-for-ad①">4.4.5. Ad Errors Out</a> <a href="#ref-for-ad②">(2)</a> <a href="#ref-for-ad③">(3)</a>
    <li><a href="#ref-for-ad④">5.1.1. Entry Point</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-handshakeversion">
   <b><a href="#dom-ad-handshakeversion">#dom-ad-handshakeversion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-handshakeversion">4.1. Referencing a SIVIC creative from VAST</a>
    <li><a href="#ref-for-dom-ad-handshakeversion①">4.2. How to Handle Ad Loading</a>
    <li><a href="#ref-for-dom-ad-handshakeversion②">4.4.5. Ad Errors Out</a>
    <li><a href="#ref-for-dom-ad-handshakeversion③">5.1.2. Ad Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-handshakeversion-supportedversion-supportedversion">
   <b><a href="#dom-ad-handshakeversion-supportedversion-supportedversion">#dom-ad-handshakeversion-supportedversion-supportedversion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-handshakeversion-supportedversion-supportedversion">5.1.2. Ad Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-initad">
   <b><a href="#dom-ad-initad">#dom-ad-initad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-initad">4.2. How to Handle Ad Loading</a> <a href="#ref-for-dom-ad-initad①">(2)</a> <a href="#ref-for-dom-ad-initad②">(3)</a> <a href="#ref-for-dom-ad-initad③">(4)</a> <a href="#ref-for-dom-ad-initad④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-initad-creativedata-envdata-creativedata">
   <b><a href="#dom-ad-initad-creativedata-envdata-creativedata">#dom-ad-initad-creativedata-envdata-creativedata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-initad-creativedata-envdata-creativedata">4.2. How to Handle Ad Loading</a> <a href="#ref-for-dom-ad-initad-creativedata-envdata-creativedata①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-initad-creativedata-envdata-envdata">
   <b><a href="#dom-ad-initad-creativedata-envdata-envdata">#dom-ad-initad-creativedata-envdata-envdata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-initad-creativedata-envdata-envdata">4.2. How to Handle Ad Loading</a> <a href="#ref-for-dom-ad-initad-creativedata-envdata-envdata①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-startad">
   <b><a href="#dom-ad-startad">#dom-ad-startad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-startad">4.2. How to Handle Ad Loading</a> <a href="#ref-for-dom-ad-startad①">(2)</a> <a href="#ref-for-dom-ad-startad②">(3)</a> <a href="#ref-for-dom-ad-startad③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-stopad">
   <b><a href="#dom-ad-stopad">#dom-ad-stopad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-stopad">3.7. Video Player Requirements</a>
    <li><a href="#ref-for-dom-ad-stopad①">4.4. How to Handle Ad End and Unload</a>
    <li><a href="#ref-for-dom-ad-stopad②">4.4.4. Ad Completes at Video Completion</a>
    <li><a href="#ref-for-dom-ad-stopad③">4.4.5. Ad Errors Out</a>
    <li><a href="#ref-for-dom-ad-stopad④">4.4.6. Additional Notes</a> <a href="#ref-for-dom-ad-stopad⑤">(2)</a> <a href="#ref-for-dom-ad-stopad⑥">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-skipad">
   <b><a href="#dom-ad-skipad">#dom-ad-skipad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-skipad">4.4.1. Ad Skips</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-resizead">
   <b><a href="#dom-ad-resizead">#dom-ad-resizead</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-resizead">4.3.3. Ad Resizing and Fullscreen</a> <a href="#ref-for-dom-ad-resizead①">(2)</a> <a href="#ref-for-dom-ad-resizead②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-resizead-width-height-viewmode-width">
   <b><a href="#dom-ad-resizead-width-height-viewmode-width">#dom-ad-resizead-width-height-viewmode-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-resizead-width-height-viewmode-width">4.3.3. Ad Resizing and Fullscreen</a> <a href="#ref-for-dom-ad-resizead-width-height-viewmode-width①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-resizead-width-height-viewmode-height">
   <b><a href="#dom-ad-resizead-width-height-viewmode-height">#dom-ad-resizead-width-height-viewmode-height</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-resizead-width-height-viewmode-height">4.3.3. Ad Resizing and Fullscreen</a> <a href="#ref-for-dom-ad-resizead-width-height-viewmode-height①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-resizead-width-height-viewmode-viewmode">
   <b><a href="#dom-ad-resizead-width-height-viewmode-viewmode">#dom-ad-resizead-width-height-viewmode-viewmode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-resizead-width-height-viewmode-viewmode">4.3.3. Ad Resizing and Fullscreen</a> <a href="#ref-for-dom-ad-resizead-width-height-viewmode-viewmode①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-ad-adduration">
   <b><a href="#dom-ad-adduration">#dom-ad-adduration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-ad-adduration">4.4.3. Ad Extends Beyond Video Completion</a> <a href="#ref-for-dom-ad-adduration①">(2)</a> <a href="#ref-for-dom-ad-adduration②">(3)</a>
    <li><a href="#ref-for-dom-ad-adduration③">5.1.2. Ad Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="videoproxy">
   <b><a href="#videoproxy">#videoproxy</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-videoproxy">3.3. Cross-Platform Support</a>
    <li><a href="#ref-for-videoproxy①">4.2. How to Handle Ad Loading</a>
    <li><a href="#ref-for-videoproxy②">4.3. How to Handle Ad Playback</a>
    <li><a href="#ref-for-videoproxy③">4.3.1. Ad Pause</a> <a href="#ref-for-videoproxy④">(2)</a> <a href="#ref-for-videoproxy⑤">(3)</a> <a href="#ref-for-videoproxy⑥">(4)</a>
    <li><a href="#ref-for-videoproxy⑦">4.3.2. Ad Quartiles and Playback Events</a> <a href="#ref-for-videoproxy⑧">(2)</a> <a href="#ref-for-videoproxy⑨">(3)</a>
    <li><a href="#ref-for-videoproxy①⓪">4.3.3. Ad Resizing and Fullscreen</a> <a href="#ref-for-videoproxy①①">(2)</a>
    <li><a href="#ref-for-videoproxy①②">4.3.4. Ad Volume</a>
    <li><a href="#ref-for-videoproxy①③">4.4.3. Ad Extends Beyond Video Completion</a>
    <li><a href="#ref-for-videoproxy①④">5.1.5. Environment Data</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-videoproxy-pause">
   <b><a href="#dom-videoproxy-pause">#dom-videoproxy-pause</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-videoproxy-pause">4.3.1. Ad Pause</a> <a href="#ref-for-dom-videoproxy-pause①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-videoproxy-fullscreen">
   <b><a href="#dom-videoproxy-fullscreen">#dom-videoproxy-fullscreen</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-videoproxy-fullscreen">4.3.3. Ad Resizing and Fullscreen</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-videoproxy-resume">
   <b><a href="#dom-videoproxy-resume">#dom-videoproxy-resume</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-videoproxy-resume">4.3.1. Ad Pause</a> <a href="#ref-for-dom-videoproxy-resume①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-videoproxy-resize">
   <b><a href="#dom-videoproxy-resize">#dom-videoproxy-resize</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-videoproxy-resize">4.3.3. Ad Resizing and Fullscreen</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-videoproxy-setlocation">
   <b><a href="#dom-videoproxy-setlocation">#dom-videoproxy-setlocation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-videoproxy-setlocation">4.3.3. Ad Resizing and Fullscreen</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-creativedata">
   <b><a href="#dictdef-creativedata">#dictdef-creativedata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-creativedata">4.2. How to Handle Ad Loading</a>
    <li><a href="#ref-for-dictdef-creativedata①">5.1.2. Ad Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-creativedata-adparameters">
   <b><a href="#dom-creativedata-adparameters">#dom-creativedata-adparameters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-creativedata-adparameters">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-creativedata-adid">
   <b><a href="#dom-creativedata-adid">#dom-creativedata-adid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-creativedata-adid">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-creativedata-creativeid">
   <b><a href="#dom-creativedata-creativeid">#dom-creativedata-creativeid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-creativedata-creativeid">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-creativedata-adservingid">
   <b><a href="#dom-creativedata-adservingid">#dom-creativedata-adservingid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-creativedata-adservingid">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-environmentdata">
   <b><a href="#dictdef-environmentdata">#dictdef-environmentdata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-environmentdata">4.2. How to Handle Ad Loading</a> <a href="#ref-for-dictdef-environmentdata①">(2)</a>
    <li><a href="#ref-for-dictdef-environmentdata②">5.1.2. Ad Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-slot">
   <b><a href="#dom-environmentdata-slot">#dom-environmentdata-slot</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-slot">4.2. How to Handle Ad Loading</a> <a href="#ref-for-dom-environmentdata-slot①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-videoproxy">
   <b><a href="#dom-environmentdata-videoproxy">#dom-environmentdata-videoproxy</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-videoproxy">4.2. How to Handle Ad Loading</a> <a href="#ref-for-dom-environmentdata-videoproxy①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-width">
   <b><a href="#dom-environmentdata-width">#dom-environmentdata-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-width">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-height">
   <b><a href="#dom-environmentdata-height">#dom-environmentdata-height</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-height">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-viewmode">
   <b><a href="#dom-environmentdata-viewmode">#dom-environmentdata-viewmode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-viewmode">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-fullscreenallowed">
   <b><a href="#dom-environmentdata-fullscreenallowed">#dom-environmentdata-fullscreenallowed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-fullscreenallowed">4.2. How to Handle Ad Loading</a>
    <li><a href="#ref-for-dom-environmentdata-fullscreenallowed①">4.3.3. Ad Resizing and Fullscreen</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-variabledurationallowed">
   <b><a href="#dom-environmentdata-variabledurationallowed">#dom-environmentdata-variabledurationallowed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-variabledurationallowed">4.2. How to Handle Ad Loading</a> <a href="#ref-for-dom-environmentdata-variabledurationallowed①">(2)</a>
    <li><a href="#ref-for-dom-environmentdata-variabledurationallowed②">4.3.1. Ad Pause</a>
    <li><a href="#ref-for-dom-environmentdata-variabledurationallowed③">4.4.3. Ad Extends Beyond Video Completion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-skippablestate">
   <b><a href="#dom-environmentdata-skippablestate">#dom-environmentdata-skippablestate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-skippablestate">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-siteurl">
   <b><a href="#dom-environmentdata-siteurl">#dom-environmentdata-siteurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-siteurl">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-appid">
   <b><a href="#dom-environmentdata-appid">#dom-environmentdata-appid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-appid">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-sdkname">
   <b><a href="#dom-environmentdata-sdkname">#dom-environmentdata-sdkname</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-sdkname">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-sdkversion">
   <b><a href="#dom-environmentdata-sdkversion">#dom-environmentdata-sdkversion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-sdkversion">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-environmentdata-deviceid">
   <b><a href="#dom-environmentdata-deviceid">#dom-environmentdata-deviceid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-environmentdata-deviceid">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-viewmode">
   <b><a href="#enumdef-viewmode">#enumdef-viewmode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-viewmode">4.2. How to Handle Ad Loading</a> <a href="#ref-for-enumdef-viewmode①">(2)</a>
    <li><a href="#ref-for-enumdef-viewmode②">5.1.2. Ad Interface</a>
    <li><a href="#ref-for-enumdef-viewmode③">5.1.5. Environment Data</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-viewmode-normal">
   <b><a href="#dom-viewmode-normal">#dom-viewmode-normal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-viewmode-normal">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-viewmode-thumbnail">
   <b><a href="#dom-viewmode-thumbnail">#dom-viewmode-thumbnail</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-viewmode-thumbnail">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-viewmode-fullscreen">
   <b><a href="#dom-viewmode-fullscreen">#dom-viewmode-fullscreen</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-viewmode-fullscreen">4.2. How to Handle Ad Loading</a>
    <li><a href="#ref-for-dom-viewmode-fullscreen①">4.3.3. Ad Resizing and Fullscreen</a> <a href="#ref-for-dom-viewmode-fullscreen②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-skippablestate">
   <b><a href="#enumdef-skippablestate">#enumdef-skippablestate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-skippablestate">4.2. How to Handle Ad Loading</a>
    <li><a href="#ref-for-enumdef-skippablestate①">5.1.5. Environment Data</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-skippablestate-playerhandles">
   <b><a href="#dom-skippablestate-playerhandles">#dom-skippablestate-playerhandles</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-skippablestate-playerhandles">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-skippablestate-adhandles">
   <b><a href="#dom-skippablestate-adhandles">#dom-skippablestate-adhandles</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-skippablestate-adhandles">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-skippablestate-notskippable">
   <b><a href="#dom-skippablestate-notskippable">#dom-skippablestate-notskippable</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-skippablestate-notskippable">4.2. How to Handle Ad Loading</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>